



function winOpen(src, width, height) {
	try{
		var win = window.open(src, 'WinPop', "menubar=0, statusbar=0, width="+width+", height="+height+", resize=true, scrollbar=true");
		win.focus();
	} catch(e) {
		alert('팝업을 띄우지 못했습니다. 관리자에게 문의 해주세요');
	}
}

function wjMobile(){
	/*스마트폰 접속시*/
	var userAgent = navigator.userAgent;
	var pattern = /(SCH\-|SPH\-|SGH\-|LG\-|CANU|IM\-|EV\-|iPhone|Nokia|BlackBerry|Android)/gi;
	var isMobile = pattern.test(userAgent);
	return isMobile
}

function resizeIFrame( height ) {
	var iframe = document.getElementById('searchFrame');
	iframe.setAttribute( 'width', '100%' );
	iframe.setAttribute( 'height', height ); 
}
function wdSetFontSize(a) {
	var defaultFontSize = 1;//em
	var minFontSize = 1;//em
	var maxFontSize = 2;//em
	//if(document.getElementById("main_body")) var obj = document.getElementById("main_body");
	//else var obj = document.getElementById("sub_body");
	var obj = document.getElementById("contain");
	var objFontSize = obj.style.fontSize;
	if (!objFontSize) { objFontSize = parseFloat(defaultFontSize)+"em"; }
	var checkFontSize = (Math.round(12*parseFloat(objFontSize))+(a*2))/12;
	if (checkFontSize > maxFontSize) { checkFontSize = maxFontSize; obj.style.fontSize = checkFontSize+"em"; alert("더이상 늘릴 수 없습니다."); }
	else if (checkFontSize < minFontSize) { checkFontSize = minFontSize; obj.style.fontSize = checkFontSize+"em"; alert("더이상 줄일 수 없습니다."); }
	else { obj.style.fontSize = checkFontSize+"em"; }
//	alert(checkFontSize);
}
function wdSetRESize() {
	//if(document.getElementById("main_body")) var obj = document.getElementById("main_body");
	//else var obj = document.getElementById("sub_body");
	var obj = document.getElementById("contain");  
	obj.style.fontSize = "1em";
}





var dkitsnap = {
	mname : null
	,lname : null
	,maxw : null
	,maxh : null
	,speed : 200
	,status : false
	,loding : false
	,start : function(lname,mname){
		this.lname = lname;
		this.mname = mname;
		
		this.maxw = $("#"+this.lname).width();

		this.css3 = Modernizr.csstransforms3d;
		$("body").css('position', "relative");
		
		$("#"+this.lname).css('z-index', 1);
		$("#"+this.lname).hide();
		
		//$("#"+this.mname).css('min-height', $("#"+this.lname).height());
		$("#"+this.mname).css('z-index', 100);
		$("#"+this.mname).css('background', "#fff");
		$("#"+this.mname).css('position', "relative");
		
		$('.mocate').click(function() {
			dkitsnap.action();
		});
		
		/*
		$(".selmenu").click(function(){
			var l = $("#wrap").css("top");
			if(l=="-50px") {
				$("#wrap").animate({top: '0px'}, 300);;				
			}else{
				$("#wrap").animate({top: '-50px'}, 300);
			}
		});	
		*/	
		
		// 슬라이딩 됬을때, 컨텐츠 클릭하면 원복
		$('#closeleft').click(function(e) {
			if(dkitsnap.status == true){
				dkitsnap.action();
				e.preventDefault();
				e.stopPropagation();

				return false;
			}
		});
		$('#'+this.mname).click(function(e) {
			if(dkitsnap.status == true){
				dkitsnap.action();
				e.preventDefault();
				e.stopPropagation();

				return false;
			}
		});
	}
	,action : function(){
		move = "";
		if(this.loding == true) return;
		
		this.loding = true;

		if(this.status == false){
			move = "+="+this.maxw;
			this.status = true;
			$("#"+this.lname).show();				
			
			lh = "";
			if($(window).height() > $("#"+this.lname).height()){
				lh = $(window).height();
			}else{
				lh = $("#"+this.lname).height();
			}
			
			$("html").css('overflow', "hidden");
			$("body").css('overflow', "hidden");
			$('#popupbar').css('left','260px');
			//$("#"+this.mname).css('overflow', "hidden");
			$("#"+this.mname).css('height', lh);
			//$("#"+this.mname).css('padding-bottom', "2px");
			$("body").css('height', lh+2);
			
			
		}else{
			move = "-="+this.maxw;
			dkitsnap.status = false;
			$("#"+this.mname).css('height', "");
			$("#"+this.mname).css('overflow', "");

			$("html").css('overflow', "");
			$("body").css('overflow', "");
			$('#popupbar').css('left','0');
			//$("#"+this.mname).css('padding-bottom', "0px");
		}
		
		if(navigator.userAgent.indexOf("MSIE") == -1){
			$("#"+this.mname).animate_new({left: move+"px", leaveTransforms:false }, this.speed, function() {
				if(dkitsnap.status == false){
					$("#"+dkitsnap.lname).hide();
					$("#blind").remove();
					$("#closeleft").remove();
				}else{
					$("<div id='blind'></div>").appendTo("#"+dkitsnap.mname);	
					$("<a id='closeleft'></a>").appendTo("#"+dkitsnap.mname);
				}
				dkitsnap.loding	= false;
			});
		}else{
			$("#"+this.mname).animate({left: move+"px", leaveTransforms:false }, this.speed, function() {
				if(dkitsnap.status == false){
					$("#"+dkitsnap.lname).hide();
					$("#blind").remove();	
					$("#closeleft").remove();			
				}else{
					$("<div id='blind'></div>").appendTo("#"+dkitsnap.mname);	
					$("<a id='closeleft'></a>").appendTo("#"+dkitsnap.mname);				
				}
				dkitsnap.loding	= false;
			});
		}
		// 기타 진행 추가
		//this.getetc();
	}
	/*
	,getetc :  function(){
		try{
			if(this.status == true){ $("#banner").hide(); }else{ $("#banner").show(); }
		}catch(e){}
		
	}
	*/
}

// JQUERY 캘린더 설정
$(document).ready(function() {
	/* 달력 input box 에는 모두 readonly 속성 부여 */
	//$(".datePicker").attr("readonly","readonly");
	var v = new Date();
	var y = parseInt(v.getFullYear());
	$(".datePicker").datepicker({
	
		dateFormat: 'yy-mm-dd',
		prevText: '이전 달',
		nextText: '다음 달',
		monthNames: ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'],
		monthNamesShort: ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'],
		dayNames: ['일','월','화','수','목','금','토'],
		dayNamesShort: ['일','월','화','수','목','금','토'],
		dayNamesMin: ['일','월','화','수','목','금','토'],
		yearRange:"1900:" + (y + 1),
		changeYear:true,
		changeMonth:true,
		showAnim: "slide" //애니메이션을 적용한다.		
	});
 });
;
